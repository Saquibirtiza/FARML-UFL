<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FARML - Self-Supervised Federated Learning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3, h4 { color: #1a237e; }
        h1 { text-align: center; margin-bottom: 30px; }
        h2 { border-bottom: 2px solid #7986cb; padding-bottom: 10px; margin-top: 30px;}
        h3 { color: #3949ab; margin-top: 20px; }
        h4 { color: #5c6bc0; margin-top: 15px; }

        section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #e8eaf6;
            border-radius: 6px;
        }
        button {
            padding: 10px 18px; background-color: #3f51b5; color: white;
            border: none; border-radius: 4px; cursor: pointer; font-size: 1em;
            transition: background-color 0.3s ease; margin-top: 10px;
        }
        button:hover { background-color: #303f9f; }
        button:disabled { background-color: #9fa8da; cursor: not-allowed; }

        input[type="file"], input[type="number"], select {
            padding: 10px; margin-top: 5px; margin-bottom: 15px;
            border-radius: 4px; border: 1px solid #c5cae9; font-size: 0.95em;
            width: calc(100% - 22px); box-sizing: border-box;
        }
        .config-item { margin-bottom: 15px; }
        .config-item label { display: block; margin-bottom: 5px; font-weight: bold; }

        table {
            width: 100%; border-collapse: collapse;
            margin-top: 15px; font-size: 0.9em;
        }
        th, td { border: 1px solid #c5cae9; padding: 10px; text-align: left; }
        th { background-color: #9fa8da; color: #fff; font-weight: bold; }
        td { background-color: #fff; }

        .status-message {
            margin-top: 10px; font-style: italic; color: #555; padding: 10px;
            background-color: #e0e0e0; border-left: 4px solid #3f51b5; border-radius: 4px;
            word-wrap: break-word;
        }
        .error-message {
            color: #c62828; /* Darker Red */ background-color: #ffcdd2;
            border-left-color: #c62828;
        }

        .charts-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px; margin-bottom: 25px;
        }
        .chart-container {
            padding: 15px; border: 1px solid #ddd; border-radius: 5px;
            background-color: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            height: 350px; /* Fixed height for charts */
            position: relative; /* For Chart.js responsiveness */
        }
        .chart-container canvas { max-height: 100%; }

        .results-grid {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 20px; margin-bottom: 20px;
        }
        .metrics-box, .results-box {
            padding: 15px; background-color: #f9f9f9;
            border: 1px solid #eee; border-radius: 4px;
        }
        .metrics-box p, .results-box li { margin-bottom: 8px; line-height: 1.6; }
        .metrics-box strong, .results-box strong { color: #3f51b5; }

        .cm-table { overflow-x: auto; } /* For responsiveness of confusion matrices */
        #finalSummaryArea h3 { text-align: center; font-size: 1.5em; margin-bottom: 20px;}

        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .phase-block {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f9f9f9;
        }

        .phase-block h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #3f51b5; /* Match button color */
        }

        .phase-config-item, .class-prob-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .phase-config-item label, .class-prob-item label {
            margin-right: 10px;
            min-width: 120px; /* Adjust as needed */
            font-size: 0.9em;
        }

        .small-btn { /* For buttons within phase blocks */
            padding: 6px 12px;
            font-size: 0.9em;
            margin-right: 10px;
            background-color: #6c757d; /* A slightly different color */
        }
        .small-btn:hover {
            background-color: #5a6268;
        }
        .remove-phase-btn {
            background-color: #dc3545; /* Red for remove */
        }
        .remove-phase-btn:hover {
            background-color: #c82333;
        }

        /* Button with gray background for secondary actions */
        .btn-secondary {
            background-color: #6c757d;
        }
        .btn-secondary:hover {
            background-color: #5a6268;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const NomadStyleDashboard = () => {
            const [currentSection, setCurrentSection] = useState(1);
            const [isProcessing, setIsProcessing] = useState(false);
            const [uploadStatus, setUploadStatus] = useState('');
            const [configVisible, setConfigVisible] = useState(false);
            const [showDataOutput, setShowDataOutput] = useState(false);
            const [expandedOutput, setExpandedOutput] = useState(false);
            const [resultsVisible, setResultsVisible] = useState(false);
            const [showImportResults, setShowImportResults] = useState(false);
            const [importStatus, setImportStatus] = useState('');
            const [showArchitecture, setShowArchitecture] = useState(false);

            // Drone data distribution output
            const droneDataOutput = [
                {
                    drone: 0,
                    data: [
                        { attack: 'Benign', train: 0, test: 60 },
                        { attack: 'Port Scan', train: 0, test: 68 },
                        { attack: 'ICMP Flood', train: 11, test: 0 },
                        { attack: 'Ping Sweep', train: 0, test: 72 },
                        { attack: 'Vulnerability Scan', train: 270, test: 0 },
                        { attack: 'OS Scan', train: 20, test: 0 },
                        { attack: 'DNS Flood', train: 0, test: 0 },
                        { attack: 'Slowloris', train: 13, test: 4 },
                        { attack: 'Dictionary Attack', train: 0, test: 419 },
                        { attack: 'UDP Flood', train: 0, test: 6 },
                        { attack: 'SYN Flood', train: 0, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 314, test: 629 }
                },
                {
                    drone: 1,
                    data: [
                        { attack: 'Benign', train: 0, test: 0 },
                        { attack: 'Port Scan', train: 0, test: 0 },
                        { attack: 'ICMP Flood', train: 0, test: 85 },
                        { attack: 'Ping Sweep', train: 5603, test: 1 },
                        { attack: 'Vulnerability Scan', train: 0, test: 0 },
                        { attack: 'OS Scan', train: 0, test: 0 },
                        { attack: 'DNS Flood', train: 5, test: 0 },
                        { attack: 'Slowloris', train: 7, test: 100 },
                        { attack: 'Dictionary Attack', train: 241, test: 34 },
                        { attack: 'UDP Flood', train: 0, test: 2 },
                        { attack: 'SYN Flood', train: 0, test: 6 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 5956, test: 228 }
                },
                {
                    drone: 2,
                    data: [
                        { attack: 'Benign', train: 198, test: 0 },
                        { attack: 'Port Scan', train: 0, test: 0 },
                        { attack: 'ICMP Flood', train: 0, test: 0 },
                        { attack: 'Ping Sweep', train: 0, test: 0 },
                        { attack: 'Vulnerability Scan', train: 0, test: 0 },
                        { attack: 'OS Scan', train: 0, test: 3 },
                        { attack: 'DNS Flood', train: 3, test: 5415 },
                        { attack: 'Slowloris', train: 24056, test: 0 },
                        { attack: 'Dictionary Attack', train: 0, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 0 },
                        { attack: 'SYN Flood', train: 0, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 24257, test: 5418 }
                },
                {
                    drone: 3,
                    data: [
                        { attack: 'Benign', train: 5117, test: 0 },
                        { attack: 'Port Scan', train: 0, test: 0 },
                        { attack: 'ICMP Flood', train: 1, test: 0 },
                        { attack: 'Ping Sweep', train: 1373, test: 3 },
                        { attack: 'Vulnerability Scan', train: 36, test: 7 },
                        { attack: 'OS Scan', train: 1697, test: 1210 },
                        { attack: 'DNS Flood', train: 0, test: 5259 },
                        { attack: 'Slowloris', train: 0, test: 0 },
                        { attack: 'Dictionary Attack', train: 0, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 0 },
                        { attack: 'SYN Flood', train: 0, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 8224, test: 6479 }
                },
                {
                    drone: 4,
                    data: [
                        { attack: 'Benign', train: 6072, test: 0 },
                        { attack: 'Port Scan', train: 70, test: 0 },
                        { attack: 'ICMP Flood', train: 1, test: 2 },
                        { attack: 'Ping Sweep', train: 0, test: 8 },
                        { attack: 'Vulnerability Scan', train: 98, test: 693 },
                        { attack: 'OS Scan', train: 0, test: 522 },
                        { attack: 'DNS Flood', train: 0, test: 44 },
                        { attack: 'Slowloris', train: 8, test: 0 },
                        { attack: 'Dictionary Attack', train: 172, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 9 },
                        { attack: 'SYN Flood', train: 22, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 6443, test: 1278 }
                },
                {
                    drone: 5,
                    data: [
                        { attack: 'Benign', train: 1, test: 0 },
                        { attack: 'Port Scan', train: 271, test: 658 },
                        { attack: 'ICMP Flood', train: 334, test: 67 },
                        { attack: 'Ping Sweep', train: 0, test: 685 },
                        { attack: 'Vulnerability Scan', train: 0, test: 0 },
                        { attack: 'OS Scan', train: 164, test: 0 },
                        { attack: 'DNS Flood', train: 8, test: 31 },
                        { attack: 'Slowloris', train: 0, test: 224 },
                        { attack: 'Dictionary Attack', train: 4, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 0 },
                        { attack: 'SYN Flood', train: 0, test: 25 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 782, test: 1690 }
                },
                {
                    drone: 6,
                    data: [
                        { attack: 'Benign', train: 23, test: 0 },
                        { attack: 'Port Scan', train: 2318, test: 141 },
                        { attack: 'ICMP Flood', train: 0, test: 0 },
                        { attack: 'Ping Sweep', train: 223, test: 3940 },
                        { attack: 'Vulnerability Scan', train: 0, test: 0 },
                        { attack: 'OS Scan', train: 1860, test: 0 },
                        { attack: 'DNS Flood', train: 0, test: 0 },
                        { attack: 'Slowloris', train: 0, test: 0 },
                        { attack: 'Dictionary Attack', train: 555, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 0 },
                        { attack: 'SYN Flood', train: 4, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 4983, test: 4081 }
                },
                {
                    drone: 7,
                    data: [
                        { attack: 'Benign', train: 1998, test: 0 },
                        { attack: 'Port Scan', train: 8, test: 0 },
                        { attack: 'ICMP Flood', train: 2, test: 0 },
                        { attack: 'Ping Sweep', train: 2162, test: 777 },
                        { attack: 'Vulnerability Scan', train: 22, test: 37 },
                        { attack: 'OS Scan', train: 0, test: 0 },
                        { attack: 'DNS Flood', train: 0, test: 0 },
                        { attack: 'Slowloris', train: 138, test: 8 },
                        { attack: 'Dictionary Attack', train: 82, test: 0 },
                        { attack: 'UDP Flood', train: 37, test: 0 },
                        { attack: 'SYN Flood', train: 1691, test: 932 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 6140, test: 1754 }
                },
                {
                    drone: 8,
                    data: [
                        { attack: 'Benign', train: 5186, test: 0 },
                        { attack: 'Port Scan', train: 0, test: 277 },
                        { attack: 'ICMP Flood', train: 13, test: 1 },
                        { attack: 'Ping Sweep', train: 60, test: 0 },
                        { attack: 'Vulnerability Scan', train: 19, test: 177 },
                        { attack: 'OS Scan', train: 0, test: 17 },
                        { attack: 'DNS Flood', train: 858, test: 2 },
                        { attack: 'Slowloris', train: 621, test: 2 },
                        { attack: 'Dictionary Attack', train: 0, test: 0 },
                        { attack: 'UDP Flood', train: 0, test: 2 },
                        { attack: 'SYN Flood', train: 0, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 6757, test: 478 }
                },
                {
                    drone: 9,
                    data: [
                        { attack: 'Benign', train: 123, test: 7962 },
                        { attack: 'Port Scan', train: 1, test: 0 },
                        { attack: 'ICMP Flood', train: 1, test: 0 },
                        { attack: 'Ping Sweep', train: 3382, test: 0 },
                        { attack: 'Vulnerability Scan', train: 1688, test: 0 },
                        { attack: 'OS Scan', train: 345, test: 0 },
                        { attack: 'DNS Flood', train: 157, test: 0 },
                        { attack: 'Slowloris', train: 0, test: 0 },
                        { attack: 'Dictionary Attack', train: 6, test: 0 },
                        { attack: 'UDP Flood', train: 8, test: 0 },
                        { attack: 'SYN Flood', train: 529, test: 0 },
                        { attack: 'ARP Spoofing', train: 0, test: 0 }
                    ],
                    total: { train: 6240, test: 7962 }
                }
            ];

            const handleDataPreparation = () => {
                setIsProcessing(true);
                setUploadStatus('Preparing data distribution across drones...');
                
                setTimeout(() => {
                    setUploadStatus('Data preparation complete. Drone data distribution generated.');
                    setShowDataOutput(true);
                    setConfigVisible(true);
                    setCurrentSection(2);
                    setIsProcessing(false);
                }, 2000);
            };

            const handleImportModel = () => {
                setIsProcessing(true);
                setImportStatus('Importing existing model and loading performance results...');
                
                setTimeout(() => {
                    setImportStatus('Model imported successfully. Performance results loaded.');
                    setShowImportResults(true);
                    setIsProcessing(false);
                }, 2000);
            };

            const handleShowArchitecture = () => {
                setShowArchitecture(!showArchitecture);
            };

            const StatusMessage = ({ message, isError = false }) => (
                <div className={`status-message ${isError ? 'error-message' : ''}`}>
                    {message}
                </div>
            );

            return (
                <div className="container">
                    <h1>
                        FARML - Self-Supervised Federated Learning
                    </h1>

                    {/* Section 1: Data Preparation */}
                    <section>
                        <h2>
                            1. Data Preparation
                        </h2>
                        
                        <div className="config-grid">
                            <div>
                                <label style={{
                                    display: 'block',
                                    marginBottom: '5px',
                                    fontWeight: 'bold'
                                }}>
                                    Select Dataset:
                                </label>
                                <select 
                                    defaultValue="ACI IoT dataset 2023"
                                    style={{
                                        padding: '10px',
                                        marginTop: '5px',
                                        marginBottom: '15px',
                                        borderRadius: '4px',
                                        border: '1px solid #c5cae9',
                                        fontSize: '0.95em',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                >
                                    <option value="ACI IoT dataset 2023">ACI IoT dataset 2023</option>
                                    <option value="UNSW dataset">UNSW dataset</option>
                                </select>
                            </div>

                            <div>
                                <label style={{
                                    display: 'block',
                                    marginBottom: '5px',
                                    fontWeight: 'bold'
                                }}>
                                    Number of Drones:
                                </label>
                                <select 
                                    defaultValue="10"
                                    style={{
                                        padding: '10px',
                                        marginTop: '5px',
                                        marginBottom: '15px',
                                        borderRadius: '4px',
                                        border: '1px solid #c5cae9',
                                        fontSize: '0.95em',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                >
                                    {[...Array(10)].map((_, i) => (
                                        <option key={i + 1} value={i + 1}>{i + 1}</option>
                                    ))}
                                </select>
                            </div>

                            <div>
                                <label style={{
                                    display: 'block',
                                    marginBottom: '5px',
                                    fontWeight: 'bold'
                                }}>
                                    Uniformity in Data Distribution:
                                </label>
                                <select 
                                    defaultValue="Low"
                                    style={{
                                        padding: '10px',
                                        marginTop: '5px',
                                        marginBottom: '15px',
                                        borderRadius: '4px',
                                        border: '1px solid #c5cae9',
                                        fontSize: '0.95em',
                                        width: '100%',
                                        boxSizing: 'border-box'
                                    }}
                                >
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                        </div>

                        <button 
                            onClick={handleDataPreparation}
                            disabled={isProcessing}
                            style={{
                                display: 'flex',
                                alignItems: 'center',
                                gap: '8px'
                            }}
                        >
                            <i className="fas fa-database" style={{marginRight: '8px'}}></i>
                            {isProcessing ? 'Processing...' : 'Prepare Data'}
                        </button>

                        {uploadStatus && <StatusMessage message={uploadStatus} />}

                        {showDataOutput && (
                            <div style={{
                                marginTop: '20px',
                                padding: '15px',
                                backgroundColor: '#fff',
                                border: '1px solid #ddd',
                                borderRadius: '5px',
                                fontFamily: 'monospace',
                                fontSize: '0.9em'
                            }}>
                                <div style={{
                                    display: 'flex',
                                    justifyContent: 'space-between',
                                    alignItems: 'center',
                                    marginBottom: '15px'
                                }}>
                                    <h4>Data Distribution Across Drones</h4>
                                    <button
                                        onClick={() => setExpandedOutput(!expandedOutput)}
                                        className="small-btn"
                                    >
                                        {expandedOutput ? (
                                            <>
                                                <i className="fas fa-chevron-up" style={{marginRight: '5px'}}></i>
                                                Collapse
                                            </>
                                        ) : (
                                            <>
                                                <i className="fas fa-chevron-down" style={{marginRight: '5px'}}></i>
                                                Expand All
                                            </>
                                        )}
                                    </button>
                                </div>

                                <div style={{
                                    maxHeight: expandedOutput ? 'none' : '400px',
                                    overflow: expandedOutput ? 'visible' : 'hidden',
                                    position: 'relative'
                                }}>
                                    {(expandedOutput ? droneDataOutput : droneDataOutput.slice(0, 3)).map((drone) => (
                                        <div key={drone.drone} style={{ marginBottom: '20px' }}>
                                            <h5 style={{ 
                                                margin: '0 0 10px 0',
                                                fontSize: '1em',
                                                fontWeight: 'bold'
                                            }}>
                                                Drone {drone.drone}:
                                            </h5>
                                            <div style={{ marginLeft: '10px' }}>
                                                {drone.data.map((item, idx) => (
                                                    <div key={idx} style={{ 
                                                        display: 'flex', 
                                                        alignItems: 'center',
                                                        padding: '2px 0',
                                                        borderBottom: idx === drone.data.length - 1 ? '1px solid #eee' : 'none'
                                                    }}>
                                                        <span style={{ minWidth: '180px' }}>{item.attack}:</span>
                                                        <span style={{ color: '#666', display: 'flex' }}>
                                                            <span style={{ width: '70px' }}>Train:</span>
                                                            <span style={{ width: '60px', textAlign: 'right' }}>{item.train}</span>
                                                            <span style={{ width: '70px', marginLeft: '20px' }}>Test:</span>
                                                            <span style={{ width: '60px', textAlign: 'right' }}>{item.test}</span>
                                                        </span>
                                                    </div>
                                                ))}
                                                <div style={{ 
                                                    marginTop: '8px', 
                                                    fontWeight: 'bold',
                                                    color: '#3f51b5',
                                                    paddingTop: '5px',
                                                    borderTop: '2px solid #3f51b5',
                                                    display: 'flex', 
                                                    alignItems: 'center',
                                                    padding: '5px 0 2px 0'
                                                }}>
                                                    <span style={{ minWidth: '180px' }}>Total:</span>
                                                    <span style={{ display: 'flex' }}>
                                                        <span style={{ width: '70px' }}>Train:</span>
                                                        <span style={{ width: '60px', textAlign: 'right' }}>{drone.total.train}</span>
                                                        <span style={{ width: '70px', marginLeft: '20px' }}>Test:</span>
                                                        <span style={{ width: '60px', textAlign: 'right' }}>{drone.total.test}</span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                    
                                    {!expandedOutput && droneDataOutput.length > 3 && (
                                        <div style={{
                                            position: 'absolute',
                                            bottom: '0',
                                            left: '0',
                                            right: '0',
                                            height: '50px',
                                            background: 'linear-gradient(transparent, #fff)',
                                            display: 'flex',
                                            alignItems: 'flex-end',
                                            justifyContent: 'center',
                                            paddingBottom: '10px'
                                        }}>
                                            <span style={{ 
                                                color: '#666', 
                                                fontStyle: 'italic',
                                                backgroundColor: '#fff',
                                                padding: '5px 10px',
                                                borderRadius: '3px',
                                                border: '1px solid #eee'
                                            }}>
                                                ... and {droneDataOutput.length - 3} more drones
                                            </span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </section>

                    {/* Section 2: Configure Setup and Train Model */}
                    {configVisible && (
                        <section>
                            <h2>
                                2. Configure Setup and Train Model
                            </h2>

                            <div className="config-grid">
                                <div>
                                    <label style={{
                                        display: 'block',
                                        marginBottom: '5px',
                                        fontWeight: 'bold'
                                    }}>
                                        Number of Rounds:
                                    </label>
                                    <input 
                                        type="number" 
                                        defaultValue="20" 
                                        min="1"
                                        style={{
                                            padding: '10px',
                                            marginTop: '5px',
                                            marginBottom: '15px',
                                            borderRadius: '4px',
                                            border: '1px solid #c5cae9',
                                            fontSize: '0.95em',
                                            width: '100%',
                                            boxSizing: 'border-box'
                                        }}
                                    />
                                </div>

                                <div>
                                    <label style={{
                                        display: 'block',
                                        marginBottom: '5px',
                                        fontWeight: 'bold'
                                    }}>
                                        Local Epochs:
                                    </label>
                                    <input 
                                        type="number" 
                                        defaultValue="50" 
                                        min="1"
                                        style={{
                                            padding: '10px',
                                            marginTop: '5px',
                                            marginBottom: '15px',
                                            borderRadius: '4px',
                                            border: '1px solid #c5cae9',
                                            fontSize: '0.95em',
                                            width: '100%',
                                            boxSizing: 'border-box'
                                        }}
                                    />
                                </div>

                                <div>
                                    <label style={{
                                        display: 'block',
                                        marginBottom: '5px',
                                        fontWeight: 'bold'
                                    }}>
                                        Fraction Fit:
                                    </label>
                                    <input 
                                        type="number" 
                                        defaultValue="1.0" 
                                        step="0.1" 
                                        min="0" 
                                        max="1"
                                        style={{
                                            padding: '10px',
                                            marginTop: '5px',
                                            marginBottom: '15px',
                                            borderRadius: '4px',
                                            border: '1px solid #c5cae9',
                                            fontSize: '0.95em',
                                            width: '100%',
                                            boxSizing: 'border-box'
                                        }}
                                    />
                                </div>
                            </div>

                            <div style={{
                                display: 'flex',
                                gap: '15px',
                                marginTop: '20px',
                                flexWrap: 'wrap'
                            }}>
                                <button 
                                    style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '8px'
                                    }}
                                >
                                    <i className="fas fa-chart-bar" style={{marginRight: '8px'}}></i>
                                    Train Model
                                </button>

                                <button 
                                    onClick={handleImportModel}
                                    disabled={isProcessing}
                                    className={`btn-secondary ${isProcessing ? 'disabled' : ''}`}
                                    style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '8px'
                                    }}
                                >
                                    <i className="fas fa-upload" style={{marginRight: '8px'}}></i>
                                    {isProcessing ? 'Importing...' : 'Import Existing Model'}
                                </button>

                                <button 
                                    onClick={handleShowArchitecture}
                                    className="btn-secondary"
                                    style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '8px'
                                    }}
                                >
                                    <i className="fas fa-sitemap" style={{marginRight: '8px'}}></i>
                                    {showArchitecture ? 'Hide Architecture' : 'Show Architecture'}
                                </button>
                            </div>

                            {importStatus && <StatusMessage message={importStatus} />}

                            {showImportResults && (
                                <div style={{
                                    marginTop: '30px',
                                    padding: '20px',
                                    backgroundColor: '#fff',
                                    border: '1px solid #ddd',
                                    borderRadius: '5px'
                                }}>
                                    {/* Results Table */}
                                    <div style={{ marginBottom: '30px' }}>
                                        <h4>Performance Metrics</h4>
                                        <table style={{
                                            width: '100%',
                                            borderCollapse: 'collapse',
                                            fontSize: '0.9em',
                                            maxWidth: '600px'
                                        }}>
                                            <thead>
                                                <tr>
                                                    <th style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#9fa8da',
                                                        color: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>Metric</th>
                                                    <th style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#9fa8da',
                                                        color: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>Value (%)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>Accuracy</td>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff'
                                                    }}>95.81</td>
                                                </tr>
                                                <tr>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>Precision</td>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff'
                                                    }}>84.38</td>
                                                </tr>
                                                <tr>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>Recall</td>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff'
                                                    }}>78.85</td>
                                                </tr>
                                                <tr>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff',
                                                        fontWeight: 'bold'
                                                    }}>F1</td>
                                                    <td style={{
                                                        border: '1px solid #c5cae9',
                                                        padding: '12px',
                                                        backgroundColor: '#fff'
                                                    }}>80.73</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    {/* Chart Display */}
                                    <div style={{ marginBottom: '20px' }}>
                                        <h4>Federated Learning Method Comparison</h4>
                                        <div style={{ textAlign: 'center' }}>
                                            <img 
                                                src="federated-learning-chart.png" 
                                                alt="Federated Learning Comparison Chart"
                                                style={{
                                                    width: '100%',
                                                    maxWidth: '800px',
                                                    height: 'auto',
                                                    border: '1px solid #ddd',
                                                    borderRadius: '5px'
                                                }}
                                            />
                                        </div>
                                        <p style={{
                                            marginTop: '15px',
                                            fontStyle: 'italic',
                                            color: '#555',
                                            textAlign: 'center',
                                            fontSize: '0.95em',
                                            lineHeight: '1.4'
                                        }}>
                                            <strong>Caption:</strong> ClusterFed converges in fewer rounds and incurs the lowest communication overhead, making it the most efficient method.
                                        </p>
                                    </div>

                                    {/* Communication Cost Chart */}
                                    <div style={{ marginBottom: '20px' }}>
                                        <h4>Communication Cost Analysis</h4>
                                        <div style={{ textAlign: 'center' }}>
                                            <img 
                                                src="comm_cost.png" 
                                                alt="Communication Cost Analysis Chart"
                                                style={{
                                                    width: '100%',
                                                    maxWidth: '800px',
                                                    height: 'auto',
                                                    border: '1px solid #ddd',
                                                    borderRadius: '5px'
                                                }}
                                            />
                                        </div>
                                        <p style={{
                                            marginTop: '15px',
                                            fontStyle: 'italic',
                                            color: '#555',
                                            textAlign: 'center',
                                            fontSize: '0.95em',
                                            lineHeight: '1.4'
                                        }}>
                                            <strong>Communication Cost:</strong> Analysis of communication overhead across different federated learning methods.
                                        </p>
                                    </div>
                                </div>
                            )}

                            {showArchitecture && (
                                <div style={{
                                    marginTop: '30px',
                                    padding: '20px',
                                    backgroundColor: '#fff',
                                    border: '1px solid #ddd',
                                    borderRadius: '5px'
                                }}>
                                    <h4>System Architecture</h4>
                                    <div style={{ textAlign: 'center', marginTop: '20px' }}>
                                        <img 
                                            src="architecture-diagram.pdf" 
                                            alt="System Architecture Diagram"
                                            style={{
                                                width: '100%',
                                                maxWidth: '900px',
                                                height: 'auto',
                                                border: '1px solid #ddd',
                                                borderRadius: '5px',
                                                boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
                                            }}
                                        />
                                    </div>
                                    <p style={{
                                        marginTop: '15px',
                                        fontStyle: 'italic',
                                        color: '#555',
                                        textAlign: 'center',
                                        fontSize: '0.95em',
                                        lineHeight: '1.4'
                                    }}>
                                        <strong>Architecture Overview:</strong> FARML federated learning system architecture.
                                    </p>
                                </div>
                            )}
                        </section>
                    )}
                </div>
            );
        };

        ReactDOM.render(<NomadStyleDashboard />, document.getElementById('root'));
    </script>
</body>
</html>